ui-kit that use control value acessor


пример написания обёртки над нативными элементами ввода формы. цель - кастомизировать внешний вид элементов и получить возможность переиспользования их.

суть CVA в том, что вместо input с атрибутом formControlName используется кастомный компонент с таким же атрибутом. взаимодействие класса формы и кастомного элемента осуществляется через formControlName.

в случае прихода значения извне (инициализации) в кастомном элементу срабатывает writeValue. далее средствами renderer значение прописывается в нативный input. но вообще, говоря вместо renderer можно использовать другой механизм.

на нативном input висит обработчик кликов, который пинает onInputChange при любом вводе в нативный input. после этого опять же при помощи определённого механизма значение отправляетс я вовне.

важно то, что после отправки значения вовне егопринимает тот же formControlName. таким образом класс формы ничего не знает о внутренностях элемента и по-прежнему работает с formControlName(как в случае нативного инпута вместо кастомного компонента)

катомный компонент как обычно может принимать любые внешние параметры через Input(). в данном примере использовалась булевая переменная для disabled